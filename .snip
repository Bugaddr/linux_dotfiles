## Delete junk
pacman -Qqd | sudo pacman -Rsu -

## Blackarch overwrite
sudo pacman -Syyu --needed --overwrite='*'

## PS1
export PS1="\[\e[1;32m\]$USER@$HOSTNAME \w \`if [ \$? = 0 ]; then echo -e '\[\e[1;32m\]'; else echo -e '\[\e[1;31m\]'; fi\`\\$ \[\e[0m\]"

## Nvidia hardware decoding
export MOZ_DISABLE_RDD_SANDBOX=1 # Needed for firefox+ nvidia vaapi
export LIBVA_DRIVER_NAME=nvidia
export VDPAU_DRIVER=nvidia
export VK_ICD_FILENAMES='/usr/share/vulkan/icd.d/nvidia_icd.json' # Optional, use default since application autoselect which gpu it want
export NVD_GPU=0 # Useless, selects one nvidia gpu whene there are >1 nvidia gpu
export __EGL_VENDOR_LIBRARY_FILENAMES='/usr/share/glvnd/egl_vendor.d/10_nvidia.json' # Useles, only needed for legacy gpu w driver v470

## Intel hardware decoding
export LIBVA_DRIVER_NAME=iHD
export VDPAU_DRIVER=va_gl
VK_ICD_FILENAMES='/usr/share/vulkan/icd.d/intel_icd.x86_64.json' # Optional, use default since application autoselect which gpu it want

## THM extended search csv
curl -s 'https://tryhackme.com/api/v2/hacktivities/extended-search?kind=all&difficulty=all&order=newest&roomType=all&contentSubType=all&page=1&searchText=&userProgress=all&limit=100' | jq '.data.docs.[] | {code: .code, title: .title, description: .description, Freetouse: .freeToUse, Difficulty: .difficultyLevel, Type: .type}' | jq -r '[.code, .title, .description, .Freetouse, .Difficulty, .Type] | @csv'

## THM api markdown
curl -s 'https://tryhackme.com/api/v2/hacktivities/extended-search?kind=all&difficulty=all&order=newest&roomType=walkthrough&contentSubType=all&page=1&searchText=&userProgress=all&limit=100' | jq -r '.data.docs[] | "| " + (.code | tostring) + " | " + (.title // "N/A") + " | " + (.description // "N/A") + " | " + (.freeToUse | tostring) + " | " + (.difficultyLevel | tostring) + " | " + (.type // "N/A") + " |"'

## Docker
sudo docker ps -a # List processes
sudo docker-compose up --force-recreate -d 

## Convert
magick *.png -background white -page a4 -rotate 90 bpf.pdf

## Set refresh rate to 165
kscreen-doctor output.eDP-1.mode.2560x1440@165
kscreen-doctor -o # check it

## CHeck live battery stats
watch -n0.5 cat /sys/class/power_supply/BAT1/uevent
upower -i /org/freedesktop/UPower/devices/battery_BAT1

## Burp
exec "$JAVA_HOME/bin/java" --add-opens=java.desktop/javax.swing=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/jdk.internal.org.objectweb.asm=ALL-UNNAMED --add-opens=java.base/jdk.internal.org.objectweb.asm.tree=ALL-UNNAMED --add-opens=java.base/jdk.internal.org.objectweb.asm.Opcodes=ALL-UNNAMED -javaagent:/bin/loader.jar -noverify -jar /usr/share/burpsuite-pro/burpsuite-pro.jar "$@"

## Firefox with vaapi for hybrid mode
MOZ_DISABLE_RDD_SANDBOX=1 LIBVA_DRIVER_NAME=nvidia NVD_GPU=0 prime-run firefox

## Keycode info
sudo libinput debug-events
sudo evtest /dev/input/event4
sudo showkey -s

## Powerprofiles
powerprofilesctl set power-saver
powerprofilesctl set balanced
powerprofilesctl set performance

## Ram usage
vmstat -S M

## Java setup
archlinux-java status
archlinux-java set java-21-openjdk

## Rclone
rclone copy -vP --transfers 10 gdrive_ppo:react course/


## Count files & extensions
fd -t f | awk -F. 'NF>1 {print $NF}' | sort | uniq -c | sort -nr

## CHange all extension
for f in *; do
  [ -f "$f" ] && mv -- "$f" "${f%.*}.md"
done

## Nvidia services
sudo systemctl status nvidia-suspend nvidia-resume nvidia-powerd

## Efibootmgr
efibootmgr --create --disk /dev/nvme0n1 --part 5 --label 'Arch linux' --loader '\EFI\Linux\arch-linux.efi' --unicode

## Refresh rate
kscreen-doctor output.eDP-1.mode.2560x1440@165
kscreen-doctor output.eDP-1.mode.2560x1440@144
kscreen-doctor output.eDP-1.mode.2560x1440@60

## Change fan speed
echo 0,0 | sudo tee /sys/module/linuwu_sense/drivers/platform:acer-wmi/acer-wmi/nitro_sense/fan_speed

## Start plasma
/usr/lib/plasma-dbus-run-session-if-needed /usr/bin/startplasma-wayland

## Nvidia gpu status
cat /sys/bus/pci/devices/0000:01:00.0/power/runtime_status

## Set wifi region
sudo iw reg set BO
